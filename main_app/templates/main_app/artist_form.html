{% extends 'base.html' %}

{% block content %}
{% if object %}
<h1>Edit <span class="teal-text">{{object.name}}</span></h1>
{% else %}
<h1>Add Artist</h1>
{% endif %}
<!-- Leaving the action empty makes the form post to the same url used to display it -->
<form action="" method="post">
    <!-- Django requires the following for security purposes -->
    {% csrf_token %}
    <table>
        <!-- Render the inputs inside of <tr>s & <td>s -->
        {{ form.as_p }}
    </table>
    <select name="genre">
        <option value="" disabled selected>Choose genre</option>
        {% for genre in genres %}
        <option  value="{{genre}}">{{ genre }}</option>
        {% endfor %}
    </select>
    <input type="submit" value="Submit!" class="btn">
</form>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems, options);
  });
</script>
{% endblock %}
